jQuery((function(e){var t="site_reviews_gamipress_rating",i="site_reviews_gamipress_rating_condition",s="site_reviews_gamipress_user_id",n=function(e){var n=e.find(".select-trigger-type").val(),u=e.find("select."+s),c=e.find("select."+i),o=!!~n.indexOf("site_reviews_gamipress"),d=o&&!!~["minimum","exact"].indexOf(c.val());l(c,o),l(e.find("input."+t),d),l(e.find("."+t+"-text"),d),o&&~n.indexOf("/user_id")?(u.show().data("trigger-type",n),u.hasClass("select2-hidden-accessible")?u.val("").trigger("change").next().show():u.gamipress_select2({ajax:{data:function(e){return{q:e.term,page:e.page||1,action:"site_reviews_gamipress/users",nonce:gamipress_requirements_ui.nonce,trigger_type:n}},dataType:"json",delay:250,processResults:r,type:"POST",url:ajaxurl},allowClear:!0,escapeMarkup:function(e){return e},multiple:!1,placeholder:"Select a User",templateResult:a,theme:"default gamipress-select2"})):(u.hide(),u.hasClass("select2-hidden-accessible")&&u.next().hide())},r=function(e){var t,i;if(null===e)return{results:[]};var s=null!==(t=e.data.results)&&void 0!==t?t:e.data;return s.forEach((function(e){e.id=e.ID,e.text=e.display_name+" (#"+e.ID+")"})),{pagination:{more:null!==(i=e.data.more_results)&&void 0!==i&&i},results:s}},a=function(e){if(void 0===e.ID)return e.text;var t=void 0!==e.site_name?" (".concat(e.site_name,")"):"";return"<strong>".concat(e.display_name,'</strong><span class="result-description">ID: ').concat(e.ID,'<span class="align-right">User</span>').concat(t,"</span>")},l=function(e,t){return e[t?"show":"hide"]()};e(".requirements-list").on("change",".select-trigger-type, ."+i,(function(){n(e(this).closest("li"))})),e(".requirements-list").on("update_requirement_data",".requirement-row",(function(e,n,r){var a,l,u;~n.trigger_type.indexOf("site_reviews_gamipress")&&(n[t]=null!==(a=r.find("input."+t).val())&&void 0!==a?a:"",n[i]=null!==(l=r.find("select."+i).val())&&void 0!==l?l:"",n[s]=null!==(u=r.find("select."+s).val())&&void 0!==u?u:"")})),e(".requirements-list li").each((function(t,i){return n(e(i))}))}));